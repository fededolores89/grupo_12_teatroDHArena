<!DOCTYPE html>
<html lang="es">
  <%- include('../partials/head', {cssSheets: "login", title: "Login"}) %>
  <body>

    <%- include('../partials/header') %>
    <main class="login-main">
      <% if (locals.unAunthenticated) { %>
        <div class="alert alert-warning alert-dismissible fade show" role="alert">
          <strong>Oops!</strong> Debes iniciar sesion o crear un usuario antes de usar el carrito de compras :)
          <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
      <% } %>
      <div class="error-message">
        <% if (locals.errors && errors.invalidAuth) { %>
          <span class="error"><i class="fa-solid fa-circle-info"></i> <%= errors.invalidAuth.msg %> </span>
        <% } %>
      </div>
      <form action="/usuarios/login" method="POST" class="login-form">
        <h2 class="login-titulo">Ingresar a mi cuenta</h2>
        <div class="form-input">
          <label for="email"><i class="fas fa-envelope"></i> EMAIL</label>
          <input
            type="email"
            name="email"
            id="email"
            placeholder="Ingresá tu email"
            class="<%= locals.errors && errors.email ? 'error-input' : '' %>"
            value="<%= locals.inputs ? inputs.email : '' %>"
            required
          />
          <span class="error-container"></span>
          <div class="error-message">
            <% if (locals.errors && errors.email) { %>
              <span class="error"><i class="fa-solid fa-circle-info"></i> <%= errors.email.msg %> </span>
            <% } %>
          </div>
        </div>
        <div class="form-input">
          <label for="contraseña"><i class="fas fa-key"></i> CONTRASEÑA</label>
          <input type="password" name="password" id="password" class="<%= locals.errors && errors.password ? 'error-input' : '' %>" required placeholder="Ingresá tu contraseña" pattern="(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$">
          <span class="error-container"></span>
          <div class="error-message">
            <% if (locals.errors && errors.password) { %>
              <span class="error"><i class="fa-solid fa-circle-info"></i> <%= errors.password.msg %> </span>
            <% } %>
          </div>
        </div>
        <div class="form-input">
          <label for="remember-me">Recuerdame</label>
          <input type="checkbox" class="remember-me" name="remember" id="remember-me">
        </div>
        <button type="submit">Ingresar</button>
      </form>
      <div class="login-info">
        <p class="controles-login">¿Olvidaste tu contraseña?</p>
        <p><a href="/usuarios/register" class="controles-login">No tengo cuenta</a></p>
      </div>
    </main>
      
    
    
    <%- include('../partials/footer') %>
    <!-- Agregando archivo nav.js para el menu -->
    <script src="../js/nav/nav.js"></script>
    <script src="../js/form/validationsLogin.js"></script>
    <script src="../js/assets/jquery/jquery.min.js"></script>
    <script src="../js/assets/bootstrap/bootstrap.min.js"></script>
  </body>
</html>
